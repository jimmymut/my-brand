<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./style.css" />
    <title>Dashboard</title>
  </head>
  <body id="dashbod-body-tag">
    <div class="loader dashboard-loader"><strong>Loading...</strong></div>
    <div class="header-div">
      <div class="owner-sum">
        <img
          class="owner-profile"
          src="./Images/profile.png"
          alt="owner profile picture"
        />
        <p>Jimmy's website</p>
      </div>
      <div class="header-status-div">
        <button class="btn header-btn" onclick="return displayAdminSignUp();">
          Admin Sign Up</button
        ><button class="btn header-btn login-btn">Log out</button>
        <div class="prof-pic-name">
          <p class="loggedin-profile-name"></p>
        </div>
      </div>
    </div>
    <main class="dashboard-main">
      <input type="checkbox" class="menu-toggler dashtogler" />
      <div class="humberger dashboard-hamberger"></div>
      <div class="leftdiv">
        <a href="#">
          <div onclick="return showAllDashboardBlogs();">
            <img src="./Images/home-select.svg" alt="dashboard picture" />
            <p>Dashboard</p>
          </div>
        </a>
        <a href="#dashboard-all-articles">
          <div onclick="return showAllDashboardBlogs();">
            <img src="./Images/blog.svg" alt="blog icon" />
            <p>Blogs</p>
          </div>
        </a>
        <a href="#">
          <div onclick="return showAllMessages();">
            <img src="./Images/message.svg" alt="message icon" />
            <p>Messages</p>
          </div>
        </a>
        <a
          onclick="return logoutFunc();"
          id="logout-btn"
          class="logOut-a-tag"
          type="button"
          href="#"
        >
          <div>
            <img src="./Images/logout.svg" alt="logout icon" />
            <p>Log Out</p>
          </div>
        </a>

        <button
          onclick="return displayAddArticleForm();"
          id="left-div-btn-display"
          class="left-div-btn"
        >
          <img src="./Images/add.svg" alt="Plus icon" /> New Post
        </button>
      </div>
      <div class="rightdiv">
        <h2 class="dash-heading">Dashboard</h2>
        <div class="profile-pic-div">
          <img src="./Images/profile.png" alt="profile" />
          <p>Jimmy Mutabazi</p>
        </div>
        <div class="all-articles" id="dashboard-all-articles">
          <div class="loader delete-article-loader">
            <strong>Loading...</strong>
          </div>
          <div class="add-article-form" id="add-article-dashbd-form">
            <div class="loader create-new-article-form">
              <strong>Loading...</strong>
            </div>
            <form
              onsubmit="return false"
              name="addArtcleForm"
              id="addArtcleForm"
            >
              <h2>Add a new article here</h2>
              <div>
                <label for="title">Title</label><br />
                <input
                  type="text"
                  id="title"
                  name="title"
                  placeholder="The title of the article"
                />
                <small id="articleTitleError" class="contact-form-error"
                  >The title can not be empty!</small
                >
                <small id="articleTitleLengthError" class="contact-form-error"
                  >The title should be at least 6 characters!</small
                >
              </div>
              <div>
                <label for="description">Description</label><br />
                <textarea
                  name="description"
                  id="editor"
                  class="editorWithTextArea"
                ></textarea>

                <small id="articleDescriptionError" class="contact-form-error"
                  >The body of the article can not be empty!</small
                >
                <small id="articleDescriptionLength" class="contact-form-error"
                  >The length should be at least 100 characters!</small
                >
              </div>
              <div>
                <label for="file">Image</label><br />
                <input type="file" id="file" name="file" />
                <small id="articleImageUploadError" class="contact-form-error"
                  >Please upload an image!</small
                >
              </div>
              <div id="image-create-preview" class="image-create-preview"></div>
              <button
                onclick="validateArticleForm();"
                id="add-article-btn"
                class="btn contact-btn add-article-btn"
                type="submit"
              >
                Add article
              </button>
              <button
                onclick="hideAddForm()"
                id="add-article-btn-cancel"
                class="btn contact-btn add-article-btn"
                type="reset"
              >
                Cancel
              </button>
            </form>
            <div id="addArticlePopup" class="popup">
              <p>The article is successfully created!</p>
              <button onclick="return hideAddForm();">Ok</button>
            </div>
            <div id="failAddArticlePopup" class="popup">
              <p>
                Creating new article failed!<br />Try after some time!<br />Thank
                you!
              </p>
              <button onclick="return hideAddForm();">Ok</button>
            </div>
          </div>
          <div class="add-article-form" id="edit-article-dashbd-form">
            <div class="loader loader-edit-article">
              <strong>Loading...</strong>
            </div>
            <form name="editArtcleForm" id="editArtcleForm">
              <small id="error-all-empty" class="contact-form-error"
                >Error! All fields can not be empty, provide at least one field
                value</small
              >
              <h2>Edit this article here</h2>
              <div>
                <label for="titleBlg">Title</label><br />
                <input type="text" id="titleBlg" name="titleBlg" />
                <small id="articleEditTitleError" class="contact-form-error"
                  >The title can not be empty!</small
                >
                <small
                  id="articleEditTitleLengthError"
                  class="contact-form-error"
                  >The title should be at least 6 characters!</small
                >
              </div>
              <div>
                <label for="editFormeditor">Description</label><br />
                <textarea name="editFormeditor" id="editFormeditor"></textarea>
                <small
                  id="articleEditDescriptionError"
                  class="contact-form-error"
                  >The body of the article can not be empty!</small
                >
                <small
                  id="articleEditDescriptionLength"
                  class="contact-form-error"
                  >The length should be at least 100 characters!</small
                >
              </div>
              <div>
                <label for="editFile">Image</label><br />
                <input type="file" id="editFile" name="editFile" />
                <small id="editImageUploadError" class="contact-form-error"
                  >Please upload an image!</small
                >
              </div>
              <img id="image-edit-preview" src="#" alt="preview" /><br />
              <button
                id="edit-article-btn"
                class="btn contact-btn add-article-btn"
                type="submit"
                onclick="return validateEditArticleForm()"
              >
                Update article
              </button>
              <button
                onclick="return hideEditForm();"
                id="editFormCancel"
                class="btn contact-btn add-article-btn"
                type="reset"
              >
                Cancel
              </button>
            </form>
            <div id="editPopup" class="popup">
              <p>Article is successfully updated!</p>
              <button onclick="return hideEditForm();">Ok</button>
            </div>
            <div id="article-update-message" class="popup">
              <p>Error! Failed to update the article!</p>
              <button onclick="return hideEditForm();">Ok</button>
            </div>
          </div>
          <div class="login-div sign-up-form-div" id="sign-up-form-div-dash">
            <div class="loader admin-sign-up-loader">
              <strong>Loading...</strong>
            </div>
            <p>Want to create admin account?</p>
            <form
              id="admin-sign-up-form"
              class="user-forms"
              action="#"
              method="post"
              onsubmit="return false"
            >
              <div>
                <label for="fname">First Name</label><br />
                <input
                  type="text"
                  id="fname"
                  name="fname"
                  placeholder="Enter admin's first name"
                />
                <small id="adminfnameError" class="contact-form-error"
                  >First name can not be empty!</small
                >
                <small id="adminfnameValidateError" class="contact-form-error"
                  >The name should be at least 3 characters!</small
                >
              </div>

              <div>
                <label for="lname">Last Name</label><br />
                <input
                  type="text"
                  id="lname"
                  name="lname"
                  placeholder="Enter admin's last name"
                />
                <small id="adminlasNameError" class="contact-form-error"
                  >Last name can not be empty!</small
                >
                <small id="adminlasNameValidateError" class="contact-form-error"
                  >The name should be at least 3 characters!</small
                >
              </div>
              <div>
                <label for="adminEail">Email</label><br />
                <input
                  type="email"
                  id="adminEail"
                  name="email"
                  placeholder="Enter admin's email"
                />
                <small id="adminEmailError" class="contact-form-error"
                  >Email can not be empty!</small
                >
                <small id="adminEmailValidateError" class="contact-form-error"
                  >Invalid email!</small
                >
              </div>
              <div>
                <label for="adminpass">Password</label><br />
                <input
                  type="password"
                  id="adminpass"
                  name="password"
                  placeholder="********"
                />
                <small id="adminPasswordError" class="contact-form-error"
                  >Password can not be empty!</small
                >
                <small id="adminPasswordLeng" class="contact-form-error"
                  >Password can should be at least 5 characters!</small
                >
              </div>
              <div>
                <label for="confadminpass">Comfirm Password</label><br />
                <input
                  type="password"
                  id="confadminpass"
                  name="confadminpass"
                  placeholder="********"
                />
                <small id="adminPassComf" class="contact-form-error"
                  >Password can not be empty!</small
                >
                <small id="adminPasswordMismatch" class="contact-form-error"
                  >Passwords don't match!</small
                >
              </div>
              <button
                onclick="return adminSignUpValidation();"
                class="btn contact-btn"
                type="submit"
              >
                Sign Up
              </button>
            </form>
          </div>
          <ol id="dashOrderedList">
            <h2>Articles</h2>
          </ol>
        </div>
        <div id="all-messages">
          <div class="loader delete-message-loader">
            <strong>Loading...</strong>
          </div>
          <table id="tableMessages">
            <thead>
              <tr>
                <th>Name</th>
                <th>Email</th>
                <th>Phone Number</th>
                <th>Message</th>
                <th>Date</th>
                <th>Del</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
          <div id="tablePopup" class="popup">
            <p>There is no any message here!</p>
            <button onclick="return hideTable();">Ok</button>
          </div>
        </div>
      </div>
      <script src="./index.js"></script>
      <script>
        window.addEventListener("load", loadDashboardDymanicContent());
      </script>
      <script src="https://cdn.ckeditor.com/ckeditor5/35.3.2/classic/ckeditor.js"></script>
      <script>
        let editor;
        let editEditor;

        ClassicEditor.create(document.querySelector("#editor"))
          .then((newEditor) => {
            editor = newEditor;
          })
          .catch((error) => {
            console.error(error);
          });
        ClassicEditor.create(document.querySelector("#editFormeditor"))
          .then((Editor) => {
            editEditor = Editor;
          })
          .catch((error) => {
            console.error(error);
          });
      </script>
    </main>
  </body>
</html>
